/*********************************************************************************************************************
* @file            car_reed_switch.c
* @author          Andreas HF
* @Target core     CH32V103R8T6
* @revisions       -2021.10.22, V1.0
* @modify          none
********************************************************************************************************************/

#include "car_reed_switch.h"

//-------------------------------------------------------------------------------------------------------------------
// @brief      干簧管初始化
// @param      void
// @return     void
// Sample usage:       reed_init();
//-------------------------------------------------------------------------------------------------------------------
void reed_init(void)
{
    /* 干簧管引脚初始化 */
    gpio_init(REED_SWITCH_PIN, GPI, 1, IN_PULLUP);
}

//-------------------------------------------------------------------------------------------------------------------
// @brief      获得并返回干簧管状态
// @param      void
// @return     uint8
// Sample usage:   unsigned char i; i = reed_check();
//-------------------------------------------------------------------------------------------------------------------
unsigned char reed_check(void)
{
    unsigned char status;

    status=gpio_get_input(B3);                                //获得干簧管状态

    return status;
}
