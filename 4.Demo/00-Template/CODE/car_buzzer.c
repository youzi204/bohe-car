/*********************************************************************************************************************
* @file            car_Buzzer.c
* @brief           智能车蜂鸣器控制
* @author          Davis Klay HF
* @version         1.0
* @Target core     CH32V103C8T6
* @date            2021-10-7
********************************************************************************************************************/
#include "car_Buzzer.h"

//-------------------------------------------------------------------------------------------------------------------
//  @brief      蜂鸣器初始化
//  @param      void
//  @return     void
//  @since      v1.0
//  Sample usage:
//-------------------------------------------------------------------------------------------------------------------
void Buzzer_Init(void)
{
    gpio_init(A6,GPO, 1, SPEED_50MHZ|OUT_PP);                //选通PWM通道A6
}

//-------------------------------------------------------------------------------------------------------------------
//  @brief      控制蜂鸣器鸣叫
//  @param      void
//  @return     void
//  @since      v1.0
//  Sample usage:
//-------------------------------------------------------------------------------------------------------------------
void Buzzer_loud(void)
{
    pwm_init(PWM3_CH1_A6, 480, 5000,TIM_OCPreload_Enable);         //PWM打开，蜂鸣器鸣叫
}

//-------------------------------------------------------------------------------------------------------------------
//  @brief      控制蜂鸣器不鸣叫
//  @param      void
//  @return     void
//  @since      v1.0
//  Sample usage:
//-------------------------------------------------------------------------------------------------------------------
void Buzzer_notloud(void)
{
    pwm_stop(PWM3_CH1_A6);                        //PWM关闭，蜂鸣器不响
}
